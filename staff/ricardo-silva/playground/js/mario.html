<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hello, DOM!</h1>

    <script>

        let marioX = 100, marioY = 200, marioWidth = 70, marioHeight = 150, marioLife = 10
        const step = 10

        //Mario    
        const mario = document.createElement('div')
        mario.style.width = marioWidth + 'px'
        mario.style.height = marioHeight + 'px'
        mario.style.backgroundColor = 'green'
        mario.style.backgroundImage = 'url(https://static.wikia.nocookie.net/mario/images/d/dc/Mario_%282%29.png)'
        mario.style.backgroundPosition = 'center'
        mario.style.backgroundSize = 'contain'
        mario.style.backgroundRepeat = 'no-repeat'
        mario.style.position = 'absolute'
        mario.style.position = 'absolute'
        mario.style.left = marioX + 'px'
        mario.style.top = marioY + 'px'
        document.body.appendChild(mario)

        //Goomba
        let goombaX = 100, goombaY = 500, goombaWidth = 80, goombaHeight = 100, goombaLife = 10

        const goomba = document.createElement('div')
        goomba.style.width = goombaWidth + 'px'
        goomba.style.height = goombaHeight + 'px'
        goomba.style.backgroundColor = 'green'
        goomba.style.backgroundImage = 'url(https://static.wikia.nocookie.net/mario/images/d/d5/GoombaNSMB.png)'
        goomba.style.backgroundPosition = 'center'
        goomba.style.backgroundSize = 'contain'
        goomba.style.backgroundRepeat = 'no-repeat'
        goomba.style.position = 'absolute'
        goomba.style.left = goombaX + 'px'
        goomba.style.top = goombaY + 'px'
        document.body.appendChild(goomba)

        document.addEventListener('keydown', function(event) {
            //Teclas para Mario 
            if (event.key === 'ArrowUp')
                //console.log('mueveteparriba')
                marioY -= step // marioY = marioY - step
            else if (event.key === 'ArrowDown')
                //console.log('muevetepabajo')
                marioY += step
            else if (event.key === 'ArrowLeft')
                //console.log('muevetepalaizquierda')
                marioX -= step
            else if (event.key === 'ArrowRight')
                //console.log('muevetepaladerecha')
                marioX += step 
            
            mario.style.left = marioX + 'px'
            mario.style.top = marioY + 'px'
            
            console.log('mario', marioX, marioY)

            //Teclas para Goomba
            if (event.key === 'w')
                goombaY -= step
            else if (event.key === 's')
                goombaY += step
            else if (event.key === 'a')
                goombaX -= step
            else if (event.key === 'd')
                goombaX += step 
            
            goomba.style.left = goombaX + 'px'
            goomba.style.top = goombaY + 'px'
            
            console.log('goomba', goombaX, goombaY)

            // detect collision

            let marioXMax = marioX + marioWidth
            let marioYMax = marioY + marioHeight

            if (marioXMax > goombaX && marioYMax > goombaY) {
                console.log('collision')

                marioLife--
                goombaLife--

                if (marioLife < 8 && marioLife >= 4) //mientras que sea menor que 8 y mayor o igual que 4 
                    mario.style.backgroundColor = 'gold'
                else if (marioLife < 4)
                    mario.style.backgroundColor = 'tomato'

                if (goombaLife < 8 && goombaLife >= 4)
                    goomba.style.backgroundColor = 'gold'
                else if (goombaLife < 4)
                    goomba.style.backgroundColor = 'tomato'
            }

        })
    </script>
</body>
</html>